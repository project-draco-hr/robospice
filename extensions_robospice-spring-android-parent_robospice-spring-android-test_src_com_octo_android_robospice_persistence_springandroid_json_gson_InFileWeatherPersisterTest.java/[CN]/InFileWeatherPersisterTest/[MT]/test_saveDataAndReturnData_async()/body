{
  WeatherResult weatherRequestStatus=buildWeather(TEST_TEMP,TEST_TEMP_UNIT);
  dataPersistenceManager.setAsyncSaveEnabled(true);
  WeatherResult weatherReturned=dataPersistenceManager.saveDataToCacheAndReturnData(weatherRequestStatus,"weather.json");
  assertTrue(((GsonObjectPersister<?>)dataPersistenceManager).awaitForSaveAsyncTermination(SAVE_TIMEOUT,TimeUnit.MILLISECONDS));
  assertEquals(TEST_TEMP,weatherReturned.getWeather().getCurren_weather().get(0).getTemp());
}
