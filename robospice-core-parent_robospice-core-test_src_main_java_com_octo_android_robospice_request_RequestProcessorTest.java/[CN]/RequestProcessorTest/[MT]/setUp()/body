{
  super.setUp();
  System.setProperty("dexmaker.dexcache",getContext().getCacheDir().getPath());
  mockCacheManager=EasyMock.createMock(CacheManager.class);
  requestProcessorListener=new RequestProcessorListener(){
    @Override public void allRequestComplete(){
    }
    @Override public void requestsInProgress(){
    }
  }
;
  ExecutorService executorService=PriorityThreadPoolExecutor.getPriorityExecutor(1);
  networkStateChecker=new MockNetworkStateChecker();
  progressReporter=new DefaultRequestListenerNotifier();
  spiceServiceListenerNotifier=new SpiceServiceListenerNotifier();
  requestProcessorUnderTest=new RequestProcessor(getContext(),mockCacheManager,executorService,requestProcessorListener,networkStateChecker,progressReporter,spiceServiceListenerNotifier);
}
