{
synchronized (mapPendingRequestToRequestListener) {
    ArrayList<CachedSpiceRequest<?>> toRemove=new ArrayList<CachedSpiceRequest<?>>();
    for (    final CachedSpiceRequest<?> cachedSpiceRequestTemp : mapPendingRequestToRequestListener.keySet()) {
      if (cachedSpiceRequest.equals(cachedSpiceRequestTemp)) {
        final Set<RequestListener<?>> setRequestListeners=mapPendingRequestToRequestListener.get(cachedSpiceRequestTemp);
        setRequestListeners.removeAll(listeners);
        if (setRequestListeners.isEmpty()) {
          toRemove.add(cachedSpiceRequestTemp);
        }
      }
    }
    for (    CachedSpiceRequest<?> cachedSpiceRequestToRemove : toRemove) {
      mapPendingRequestToRequestListener.remove(cachedSpiceRequestToRemove);
    }
  }
}
