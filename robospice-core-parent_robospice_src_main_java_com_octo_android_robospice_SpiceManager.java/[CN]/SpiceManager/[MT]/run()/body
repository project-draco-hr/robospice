{
  Context context=contextWeakReference.get();
  if (context != null) {
    checkServiceIsProperlyDeclaredInAndroidManifest(context);
    final Intent intent=new Intent(context,spiceServiceClass);
    context.startService(intent);
  }
 else {
    Ln.d("Service was not started as Activity died prematurely");
    isStopped=true;
    return;
  }
  bindToService(contextWeakReference.get());
  try {
    waitForServiceToBeBound();
    if (spiceService == null) {
      return;
    }
    while (!isStopped && !Thread.interrupted()) {
      try {
        sendRequestToService(requestQueue.take());
      }
 catch (      final InterruptedException ex) {
        Ln.d("Interrupted while waiting for new request.");
        break;
      }
    }
  }
 catch (  final InterruptedException e) {
    Ln.d(e,"Interrupted while waiting for acquiring service.");
  }
 finally {
    unbindFromService(contextWeakReference.get());
  }
}
