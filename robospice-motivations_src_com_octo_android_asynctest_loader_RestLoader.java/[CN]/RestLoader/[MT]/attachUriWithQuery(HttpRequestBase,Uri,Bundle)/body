{
  try {
    if (params == null) {
      request.setURI(new URI(uri.toString()));
    }
 else {
      Uri.Builder uriBuilder=uri.buildUpon();
      for (      BasicNameValuePair param : paramsToList(params)) {
        uriBuilder.appendQueryParameter(param.getName(),param.getValue());
      }
      uri=uriBuilder.build();
      request.setURI(new URI(uri.toString()));
    }
  }
 catch (  URISyntaxException e) {
    Log.e(TAG,"URI syntax was incorrect: " + uri.toString());
  }
}
