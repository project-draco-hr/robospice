{
  checkServiceIsProperlyDeclaredInAndroidManifest(context.get());
  if (!SpiceService.isStarted()) {
    final Intent intent=new Intent(context.get(),spiceServiceClass);
    context.get().startService(intent);
  }
  bindToService(context.get());
  try {
    waitForServiceToBeBound();
    while (!isStopped) {
      final CachedSpiceRequest<?> spiceRequest=requestQueue.take();
      try {
        lockSendRequestsToService.lock();
        if (spiceRequest != null) {
          final Set<RequestListener<?>> listRequestListener=mapRequestToLaunchToRequestListener.get(spiceRequest);
          mapRequestToLaunchToRequestListener.remove(spiceRequest);
          mapPendingRequestToRequestListener.put(spiceRequest,listRequestListener);
          Ln.d("Sending request to service : " + spiceRequest.getClass().getSimpleName());
          spiceService.addRequest(spiceRequest,listRequestListener);
        }
      }
  finally {
        lockSendRequestsToService.unlock();
      }
    }
  }
 catch (  final InterruptedException e) {
    Ln.d(e,"Interrupted while waiting for acquiring service.");
  }
 finally {
    unbindFromService(context.get());
  }
}
