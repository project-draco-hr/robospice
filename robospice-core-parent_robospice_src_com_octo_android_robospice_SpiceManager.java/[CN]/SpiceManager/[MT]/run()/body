{
  checkServiceIsProperlyDeclaredInAndroidManifest(context.get());
  if (!SpiceService.isStarted()) {
    if (context.get() != null) {
      final Intent intent=new Intent(context.get(),spiceServiceClass);
      context.get().startService(intent);
    }
 else {
      Ln.d("Service was not started as Activity died prematurely");
    }
  }
  bindToService(context.get());
  try {
    waitForServiceToBeBound();
    if (spiceService == null) {
      return;
    }
    while (!isStopped) {
      try {
        final CachedSpiceRequest<?> spiceRequest=requestQueue.take();
        lockSendRequestsToService.lock();
        if (spiceRequest != null) {
          final Set<RequestListener<?>> listRequestListener=mapRequestToLaunchToRequestListener.remove(spiceRequest);
          mapPendingRequestToRequestListener.put(spiceRequest,listRequestListener);
          Ln.d("Sending request to service : " + spiceRequest.getClass().getSimpleName());
          spiceService.addRequest(spiceRequest,listRequestListener);
        }
      }
  finally {
        if (lockSendRequestsToService.isLocked()) {
          lockSendRequestsToService.unlock();
        }
      }
    }
  }
 catch (  final InterruptedException e) {
    Ln.d(e,"Interrupted while waiting for acquiring service.");
  }
 finally {
    unbindFromService(context.get());
  }
}
