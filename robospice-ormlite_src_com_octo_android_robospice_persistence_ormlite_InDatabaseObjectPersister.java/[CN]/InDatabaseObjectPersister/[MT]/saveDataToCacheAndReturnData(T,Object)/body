{
  if (!(cacheKey instanceof String)) {
    throw new IllegalArgumentException("cacheKey must be a String");
  }
  try {
    dao.callBatchTasks(new Callable<Void>(){
      @Override public Void call() throws Exception {
        dao.updateId(data,cacheKey);
        databaseHelper.createOrUpdateInDatabase(data,modelObjectType);
        saveAllForeignObjectsToCache(data);
        CacheEntry cacheEntry=new CacheEntry((String)cacheKey,System.currentTimeMillis());
        databaseHelper.createOrUpdateCacheEntryInDatabase(cacheEntry);
        return null;
      }
    }
);
  }
 catch (  Exception e) {
    Log.e(TAG,"SQL Error",e);
  }
  return data;
}
