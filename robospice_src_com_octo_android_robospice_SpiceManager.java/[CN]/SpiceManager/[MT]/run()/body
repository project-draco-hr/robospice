{
  checkServiceIsProperlyDeclaredInAndroidManifest(context.get());
  if (!SpiceService.isStarted()) {
    Intent intent=new Intent(context.get(),contentServiceClass);
    context.get().startService(intent);
  }
  bindToService(context.get());
  try {
    waitForServiceToBeBound();
    while (!isStopped) {
      CachedSpiceRequest<?> restRequest=requestQueue.take();
      try {
        lockSendRequestsToService.lock();
        if (restRequest != null) {
          Set<RequestListener<?>> listRequestListener=mapRequestToLaunchToRequestListener.get(restRequest);
          mapRequestToLaunchToRequestListener.remove(restRequest);
          mapPendingRequestToRequestListener.put(restRequest,listRequestListener);
          Ln.d("Sending request to service : " + restRequest.getClass().getSimpleName());
          spiceService.addRequest(restRequest,listRequestListener);
        }
      }
  finally {
        lockSendRequestsToService.unlock();
      }
    }
  }
 catch (  InterruptedException e) {
    Ln.d(e,"Interrupted while waiting for acquiring service.");
  }
 finally {
    unbindFromService(context.get());
  }
}
