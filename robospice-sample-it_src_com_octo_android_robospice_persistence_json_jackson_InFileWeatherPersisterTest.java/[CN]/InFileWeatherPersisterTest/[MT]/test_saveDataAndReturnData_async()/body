{
  WeatherResult weatherRequestStatus=buildWeather();
  dataPersistenceManager.setAsyncSaveEnabled(true);
  WeatherResult weatherReturned=dataPersistenceManager.saveDataToCacheAndReturnData(weatherRequestStatus,"weather.json");
  ((JacksonObjectPersister<?>)dataPersistenceManager).awaitForSaveAsyncTermination(500,TimeUnit.MILLISECONDS);
  assertEquals(TEST_TEMP,weatherReturned.getWeather().getCurren_weather().get(0).getTemp());
}
